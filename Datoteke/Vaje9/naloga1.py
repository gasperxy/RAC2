import djikstra
from naloga4 import pot_s_t
def seznam_sosednosti():
    """
    Iz grafa zapisanega v .txt datotek ustvari seznam sosednosti.
    """
    with open("roadNet-TX.txt", "r") as f:
        vrstice = f.readlines()[4:]
    n = max({int(vrstica.split("\t")[0]) for vrstica in vrstice})
    G = [[] for _ in range(n + 1)]
    for vrstica in vrstice:
        u, v = vrstica.strip().split("\t")
        G[int(u)].append((int(v), 1))
    return G

if __name__ == "__main__":
    razdalje, poti = djikstra.djikstra(seznam_sosednosti(), 100)
    print(razdalje[100000])
    # Najbolj oddaljeno vozlišče
    max_d = max(razdalje)
    max_vozlisca = [i for i in range(len(razdalje)) if razdalje[i] == max_d]
    # print(max_vozlisca)
    # Koliko vozlišč je dosegljivih iz 100
    st_dosegljivi = len([d for d in razdalje if d > -1])
    # print(st_dosegljivi)
    # Pot med 100 in 100000
    print(len(pot_s_t(poti, 100, 100000)))
    # [100000, 99998, 99999, 100467, 100033, 100032, 100040, 100058, 100243, 100241,
    # 100500, 100508, 98001, 97982, 98000, 98011, 98012, 779778, 779791, 779776, 779486,
    # 779777, 783903, 783916, 783913, 783911, 774263, 774226, 774224, 774223, 784659, 784660,
    # 774167, 774214, 774213, 774237, 774219, 774220, 774238, 774433, 774432, 774396, 774467,
    # 774471, 775166, 774434, 774399, 774436, 775216, 775191, 775217, 775230, 954061, 954060,
    # 954064, 954192, 952546, 954457, 954460, 954459, 954433, 952479, 952508, 952427, 952510,
    # 952501, 952497, 952498, 952495, 952494, 952282, 952489, 952487, 952488, 952889, 951404, 
    # 951403, 951309, 951384, 951380, 951381, 951378, 951382, 684930, 684928, 684929, 684926, 
    # 684925, 684935, 684675, 684674, 684527, 684514, 684492, 684498, 684500, 684567, 684778, 
    # 684782, 684833, 684832, 684831, 684888, 950672, 950673, 957830, 950662, 950684, 658334, 
    # 658303, 658301, 658304, 658305, 658217, 658293, 658292, 658194, 658178, 657260, 657261, 
    # 657307, 657355, 657290, 657284, 657206, 657205, 657198, 657199, 657203, 657204, 657328, 
    # 657333, 657219, 657319, 657322, 657323, 657294, 657313, 657968, 657361, 657709, 657710, 
    # 657634, 657629, 657834, 657970, 657971, 657972, 657451, 657456, 657973, 657975, 657974, 
    # 657440, 657862, 657863, 656911, 657887, 657888, 657446, 657831, 654470, 654469, 654477, 
    # 654288, 654287, 654542, 654610, 662085, 662077, 662075, 661994, 662058, 662082, 662050, 
    # 662083, 662536, 662463, 662461, 662209, 662203, 662458, 662457, 662459, 662455, 662453, 
    # 662456, 662132, 662545, 9794, 9792, 7338, 7333, 7324, 7322, 7323, 7312, 7313, 7314, 10804, 
    # 7309, 7301, 7302, 7351, 7349, 7346, 3933, 3562, 3563, 3611, 3615, 3617, 3613, 3549, 3543, 
    # 3550, 3551, 3496, 3497, 3664, 3593, 3587, 3582, 1859, 1854, 1851, 1749, 1720, 164, 180, 
    # 183, 1866, 1680, 1664, 1653, 1636, 1635, 104, 103, 101, 100]